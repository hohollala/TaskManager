## 작업 분석

다음 하위 단계를 순서대로 완료하고 마지막에 `analyze_task` 도구를 호출하여 초기 설계 제안을 다음 단계로 전달해야 합니다.

1. **분석 목적**

   - 읽고 이해:
     ```
     작업 설명: {description}
     작업 요구 사항 및 제약 조건: {requirements}
     {tasksTemplate}
     ```
   - **중요 알림**: 요구 사항에 "## 프로젝트 요구 사항 문서" 섹션이 포함되어 있으면 주의 깊게 읽고 주요 참조로 사용하십시오.
   - 확인:
     - 작업 목표 및 예상 결과
     - 기술적 과제 및 주요 의사 결정 지점
     - 기존 시스템/아키텍처와의 통합 요구 사항

2. **프로젝트 아키텍처 식별**

   - 주요 구성 파일 및 구조 확인:
     - 루트 디렉토리 구조 및 중요한 구성 파일(package.json, tsconfig.json 등) 검토
     - shrimp-rules.md가 존재하면 자세히 읽고 참조하십시오.
     - 주요 디렉토리 구성 및 모듈 분할 분석
   - 아키텍처 패턴 식별:
     - 핵심 설계 패턴 및 아키텍처 스타일(MVC, MVVM, 마이크로서비스 등) 식별
     - 프로젝트의 계층 구조 및 모듈 경계 결정
   - 핵심 구성 요소 분석:
     - 주요 클래스/인터페이스 설계 및 종속성 관계 연구
     - 주요 서비스/유틸리티 클래스 및 해당 책임과 목적 표시
   - 기존 패턴 기록:
     - 발견된 코드 구성 방식 및 아키텍처 규칙 기록
     - 프로젝트의 기술 스택 및 아키텍처 특성에 대한 깊이 있는 이해 구축

3. **정보 수집**  
   불확실하거나 확신이 없는 경우, **다음 중 하나를 수행해야 합니다**:

   - 명확화를 위해 사용자에게 질문
   - `query_task`, `read_file`, `codebase_search` 또는 기타 유사한 도구를 사용하여 기존 코드/아키텍처 쿼리
   - `web_search` 또는 기타 웹 검색 도구를 사용하여 익숙하지 않은 개념 또는 기술 쿼리  
     추측은 금지되며, 모든 정보는 출처를 추적할 수 있어야 합니다.

4. **기존 코드 및 구조 검사**

   - 정확한 검색 전략 사용:
     - `read_file`, `codebase_search` 또는 기타 유사한 도구를 사용하여 작업과 관련된 기존 구현 방식 쿼리
     - 현재 작업 기능과 유사한 기존 코드 검색
     - 유사한 기능 모듈을 찾기 위해 디렉토리 구조 분석
   - 코드 스타일 및 규칙 분석:
     - 기존 구성 요소의 명명 규칙(카멜 케이스, 스네이크 케이스 등) 확인
     - 주석 스타일 및 형식 규칙 확인
     - 오류 처리 패턴 및 로깅 방식 분석
   - 발견된 패턴 기록 및 따르기:
     - 코드 패턴 및 조직 구조 자세히 기록
     - 이러한 패턴을 설계에 어떻게 적용할지 계획
   - 기존 기능과 중복되는지 판단하고 "재사용" 또는 "추상화 리팩토링" 결정
   - 설계를 먼저 생성한 다음 기존 코드를 확인하는 것은 **금지됩니다**. "먼저 확인하고 나중에 설계"해야 합니다.

5. **작업 유형별 특정 가이드라인**

   작업 특성에 따라 다음 특정 가이드라인을 추가로 고려하십시오:

   - **프론트엔드/UI 작업**:

     - 기존 UI 구성 요소 라이브러리 및 디자인 시스템 우선 확인
     - 페이지 레이아웃 구조 및 구성 요소 조합 패턴 분석
     - 스타일 관리 방식(CSS 모듈, Styled Components 등) 확인
     - 상태 관리 및 데이터 흐름 패턴 이해

   - **백엔드 API 작업**:

     - API 라우팅 구조 및 명명 규칙 확인
     - 요청 처리 및 미들웨어 패턴 분석
     - 오류 처리 및 응답 형식 표준 확인
     - 권한 부여/인증 구현 방식 이해

   - **데이터베이스 작업**:
     - 기존 데이터 액세스 패턴 및 추상화 계층 분석
     - 쿼리 구성 및 트랜잭션 처리 방식 확인
     - 관계 처리 및 데이터 유효성 검사 방법 이해
     - 캐싱 전략 및 성능 최적화 방법 확인

6. **초기 솔루션 생성**
   - 위 내용을 바탕으로 "초기 설계 제안" 작성:
     - **사실**(출처) vs **추론**(선택 근거) 명확히 표시
     - 모호한 문구는 금지되며, 최종 결과물이어야 합니다.
     - 솔루션이 프로젝트의 기존 아키텍처 패턴과 일치하는지 확인
     - 기존 구성 요소를 재사용하거나 기존 패턴을 따르는 방법 설명
   - 프로세스는 단계별로 생각하고 아이디어를 정리해야 합니다. 문제가 너무 복잡하면 `process_thought`를 사용하여 생각할 수 있습니다.
   - **심각한 경고**: 모든 `가정`, `추측`, `환상`은 금지됩니다. `사용 가능한 모든 도구`를 통해 `정보를 수집`해야 합니다.
   - 도구 호출:
     ```
     analyze_task({ summary: <작업 요약>, initialConcept: <초기 아이디어> })
     ```

**이제 `analyze_task`를 호출하십시오. 도구를 호출하지 않는 것은 엄격히 금지됩니다.**
